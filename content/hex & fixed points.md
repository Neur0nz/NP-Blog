---
title: משחק ההקס ומשפט נקודת השבת של בראואר חלק ראשון
cssclasses:
  - rtl-class
draft: false
tags:
---
### 📺מה יוכח בפוסט זה
בחלק הראשון, תוכח השקילות של משפט נקודת השבת של בראואר לשני מימדים, ומשפט ההקס שאומר שאין תיקו במשחק ההקס, תוצאה יפה שמאוד אהבתי. בחלק השני נקבל הכללה של השקילות להרחבה של Hex ל-n מימדים ומשפט נקודת השבת של בראואר ( stay tuned 😉 ).
## 🕹️על משחק ההקס
המשחק הומצע ב-1942 על ידי המהנדס והמשורר הדני פיט היין (Piet Hein). לאחר מכן, הומצא מחדש המשחק בצורה בלתי תלויה על ידי המתמטיקאי המפורסם ג'ון נאש (John Nash) ב-1948.
הקס היינו משחק שני שחקנים, השחקן האדום והשחקן הכחול. המשחק מתקיים על לוח מרוצף של משושים המוסדרים בצורה כלשהי לדוגמה:![[hex.png]]
המשחק פשוט מאוד, בכל תור השחקן שתורו צובע משבצת ריקה לבחירתו בצבעו, שחקן מנצח אם הצליח לקשר את צידי הלוח המסומנים בצבעו, בעזרת משבצות בצבע שלו.
## 💫משפט ההקס והוכחתו
אחת התכונות המושכות של משחק ההקס הוא שהמשחק לא יכול להסתיים בתיקו, כלומר תמיד יהיה מנצח.
מבחינה אינטואיטיבית המשפט די ברור, שהרי, בכדי שלא יהיה ניצחון, צריך להיות תיקו. בתיקו יתקיים, שכחול חסם לגמרי את אדום, וגם אדום חסם לגמרי את כחול.
אבל, חסימת היריב בהכרך גוררת יצירת דרך ללא חורים מצדך של הלוח עד לצד השני (אני ממליץ טיפה לחשוב על העובדה, עד שהיא מרגישה ברורה למדי לפני שאתם ממשיכים לקרוא), מה שאומר שהשחקן שחסם, ניצח.
נוכיח את תכונה זו.
### משפט ההקס:
אם כל משבצת על לוח ההקס צבועה אז השחקן הכחול הצליח לקשר את צידי הלוח הכחולים או שהשחקן האדום הצליח לחבר את צידי הלוח האדומים.
### הוכחת משפט ההקס
יהי $H$ לוח הקס.
נגדיר $\Gamma=\left(G,E\right)$ בתור גרף כך ש $G$ קבוצת הצמתים היינה הקודקודים בלוח ההקס, ו-$E$ קבוצת הקשתות המוגדרת בצורה הבאה: בין שני צמתים ב $G$ יש קשת אם ורק אם הצבעים משני הצדדים של הקשת שונים, בנוסף צלעות הלוח נחשבות כצבע השחקן.
![[hexGraph.png]]
נשים לב למשהו חשוב, הדרגה של כל צומת קטנה או שווה ל-$2$, ( הגיון: נסתכל על צומת ונניח בלי הגבלת הכלליות שאחד המשושים אדום אז הצמוד עליו צריך להיות כחול כדי שתהיה קשת, המשושה השלישי בין אם כחול או אדום יוסיף קשת אחת. דהיינו אין דרך שדרגת צומת תהיה גדולה מ-$2$)
### למה קטנה
יהי $\Gamma$ גרף סופי כך שהדרגה של כל צומת קטן או שווה ל-$2$.
ניתן להציג את $\Gamma$ בתור איחוד של תתי-גרפים זרים כך שכל אחד מתתי הגרפים מקיימים אחד משלושת התנאים הבאים:
1. התת גרף הוא צומת מבודד.
2. התת גרף הוא מעגל פשוט.
3. התת גרף הוא מסלול פשוט.
למה זו די טריוויאלית אז אני לא עומד להוכיח אותה פה, אפשר להוכיח בעזרת אינדוקציה על מספר הצמתים.
הגרף $\Gamma$ מקיים את התנאי של למה 2 ולכן הוא מורכב מצמתים בודדים, מעגלים פשוטים ומסלולים פשוטים.
נסתכל על פינה של הגרף, (לדוגמה הפינה הימנית התחתונה) אשאיר לקורא להוכיח שדרגת הפינה היא תמיד $1$ ולכן היינה נקודת התחלה של מסלול פשוט. נשים לב שפינה היא המקום היחיד שמתקבלת דרגה $1$ שהרי אם נניח שדרגה של צומת היא בדיוק אחד נקבל מצב כזה:
![[path.png]]

(כאשר הצהוב זו קשת אז מצד אחד אדום ומצד שני כחול ואז לא משנה איזה צבע המשושה השלישי נקבל בדיוק עוד קשת אחת).
ומכיוון שהדרגה של כל צומת במסלול פשוט היא $1$ או $2$,
נקבל, שהמסלול שלנו חייב להסתיים בפינה אחרת בלוח ההקס.
מסלול זה יוצר בבירור דרך מכחול לכחול או מאדום לאדום. (במקרה של להסתכל על הפינה השמאלית למטה, אם המסלול הסתיים בפינה השמאלית למטה או למעלה אז חיברנו את הצדדים הכחולים, וימין למעלה אומר שיש חיבור בין הצדדים האדומים)

מ.ש.ל.
## 👈משפט נקודת השבת של בראואר
### משפט נקודת השבת של בראואר ב $\mathbb{R}^2$
תהי $f$ פונקציה רציפה מריבוע היחידה $I^{2}=\left[0,1\right]\times\left[0,1\right]$ לעצמו אז קיימת נקודת שבת.
כלומר נקודה $x\in I^2$ כך ש $f(x)=x$.
## 🚩הצגה חדשה של משחק ההקס וכמה סימונים
כג'ון נאש המציא מחדש את משחק ההקס ב $1948$ הוא הגדיר את המשחק כמשוחק על לוח משבצות ריבעויות כמו בלוח שחמט כך ששתי משבצות נחשבות צמודות זו לזו אם הן נוגעות אחת בשנייה מלמעלה, מלמטה או באלכסון עם שיפוע חיובי (כלומר סך הכל לכל משבצת קיימים, לפי הגדרה זו, 6 שכנים) הצגה זו של המשחק שקולה לגמרי להצגה של המשחק עם משושים ולמרות שפחות נוח לשחק איתה יותר נוח להשתמש בהצגה זו בהמשך מסיבות אריתמטיות.
בנוסף יותר קל להכליל את הצגה זו ל-$n$ מימדים, דבר שנעשה בחלק השני.
כמה סימונים להמשך:
* נסמן $Z^{n}=\left\{ \left(x_{i}\right)_{i=1}^{n}:x_{i}\in\mathbb{Z}\right\}$ (כלומר קבוצת הווקטורים ב $\mathbb{R}^n$ שכל רכיביהם מספרים שלמים).
* נסמן לכל $x\in\mathbb{R}^n$, $\left|x\right|=\underset{1\leq i\leq n}{\max}|x_{i}|$
* נסמן לכל $x\neq y$, $x<y$ אם $x_{i}\leq y_{i}$ לכל $i$
* שתי נקודות $x,y$ יקראו _ניתנות להשוואה_ אם $x<y$ או $y<x$
* נסמן ב- $B_{k}$  לוח הקס דו-מימדי (כלומר "רגיל") בגודל $k$ כאשר צמתיו הם הקבוצה:
$$
\left\{ z\in Z^{2}:\left(1,1\right)\leq z\leq\left(k,k\right)\right\} 
$$
מההגדרה הזו של הלוח בנוסף להגדרת הצמידות בין משבצות שנאש הגדיר נקבל ששני צמתים צמודים זה לזה אם ורק אם מתקיימים שני התנאים הבאים:
1. $|z-z'|=1$
2. $z$ וגם $z'$ ניתנים להשוואה
התנאי הראשון במקרה הדו מימדי שקול לכך ש $|z_{i}-z'_{i}|\leq1$  לכל $1\leq i\leq 2$ (כלומר $z'$ ו-$z$ צמודים אחד לשני או שהם על אלכסון עם שיפוע שלילי).
התנאי השני מבטיח ששתי הנקודות אינן בשיפוע שלילי זו מזו שהרי בשיפוע שלילי קורדינטה אחת יורדת והשנייה עולה (זזים אחד למטה ואז אחד ימינה).
התמונה הבאה, מראה איך נראה משחק הקס דו מימדי בהצגה הנ"ל, בגודל $5\times5$ כאשר בין שתי צמתים יש קשת אם הם צמודים. הסימונים $N,S,E,W$ הן צידי הלוח (North, South, East, West) הצמתים בצידי הלוח מקיימים (נסמן $z=(z_{1},z_{2})$) $z_{1}\in\{0,k\}$ או $z_{2}\in\{0,k\}$
![[5by5Square.png]]
### משפט ההקס בהצגה החדשה
יהי $B_{k}$ לוח הקס מלא, כלומר מכוסה על ידי שתי קבוצות זרות שנסמנן $H,V$.
אז $H$ מכיל תת קבוצה של צמתים קשורים המחברת את $E$ ו- $W$ או $V$ מכיל תת קבוצה של צמתים קשורים זה לזה המחברת את $S$ ו $N$. (דהיינו יש שחקן שמנצח כאשר $H$ מנסה לחבר בין $E,W$ ו-$V$ בין $N,S$)
הוכחה. זהו פשוט משפט ההקס אבל בעזרת הנוטציה החדשה שהגדרנו.
## 🎉"הקס" $\iff$ "בראואר" (דו-מימד)

### הקס גורר בראואר
הוכחה. תהי $f:I^{2}\rightarrow I^{2}$ פונקציה רציפה, נסמן $f\left(x\right)=\left(f_{1}\left(x\right),f_{2}\left(x\right)\right)$.
בכדי להוכיח את הטענה מספיק להראות שלכל $\varepsilon>0$ קיים $x\in I^2$ כך ש- $|f(x)-x|<\varepsilon$ שהרי $f$ רציפה ואם מתקיים התנאי נוכל בקלות לבנות בעזרת סדרה אפסה של אפסילונים כך שסדרה $x_{n}\rightarrow x\in I^2$ (כי $I^2$ סגור וחסום) ומרציפות $f$ נקבל $f(x)=x$.
נשים לב ש-$I^{2}$ (התחום) סגור וחסום (ולכן קומפקטי) ולכן נקבל [ממשפט קנטור](https://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A4%D7%98_%D7%A7%D7%A0%D7%98%D7%95%D7%A8_%D7%9C%D7%A8%D7%A6%D7%99%D7%A4%D7%95%D7%AA_%D7%91%D7%9E%D7%99%D7%93%D7%94_%D7%A9%D7%95%D7%95%D7%94) (כנראה ראיתם את המשפט באינפי $1$ לקטע סגור אבל המשפט עובד לכל קבוצה סגורה וחסומה ב $\mathbb{R}^n$) ש $f$ רציפה במידה שווה.
מהרציפות במידה שווה של $f$ נקבל שלכל $\varepsilon>0$ קיים $\delta>0$ כך ש $\delta<\varepsilon$ וגם אם $|x-x'|<\delta$ אז $|f(x)-f(x')|<\varepsilon$.
עכשיו מתחיל החלק המעניין, נסתכל על לוח הקס $B_{k}$ כאשר $\frac{1}{k}<\delta$
כעת נגדיר את ארבעת התת-קבוצות הבאות:
$$
\displaylines{H^{+}	=\left\{ z:f_{1}\left(\frac{z}{k}\right)-\frac{z_{1}}{k}>\varepsilon\right\}  \cr
H^{-}	=\left\{ z:\frac{z_{1}}{k}-f_{1}\left(\frac{z}{k}\right)>\varepsilon\right\}  \cr
V^{+}	=\left\{ z:f_{2}\left(\frac{z}{k}\right)-\frac{z_{2}}{k}>\varepsilon\right\} \cr 
V^{-}	=\left\{ z:\frac{z_{2}}{k}-f\left(\frac{z}{k}\right)>\varepsilon\right\}} 
$$
כאשר $z=(z_{1},z_{2})$.
אז מה קורה פה? מבחינה אינטואיטיבית, צומת כלשהו $z$ שייך ל $H^{+},H^{-},V^{+}$ או $V^-$ אם $\frac{z}{k}$ לאחר הפעלה של $f$ זז למעלה, שמאלה, ימינה או למטה בלפחות $\varepsilon$ בהתאמה.
ההוכחה תסתיים אם נצליח להוכיח שאיחוד קבוצות אלו לא מכסה את $B_{k}$ שהרי אם צומת $z$ לא נמצא באף אחת מקבוצות אלו אז $\left|f\left(\frac{z}{k}\right)-\frac{z}{k}\right|<\varepsilon$ (כלומר לכל כיוון זזנו פחות מ $\varepsilon$) דבר הגורר $f\left( \frac{z}{k} \right)=\frac{z}{k}$. (משאיפים את $\varepsilon$ לאפס)
נשים לב שאם $z\in H^+$ ו- $z'\in H^-$ אז $z,z'$ אינם צמודים זה לזה.
הוכחה. מהגדרת קבוצות אלה מתקיים:
$$
\displaylines{f_{1}\left( \frac{z}{k} \right)-\frac{z_{1}}{k}>\varepsilon \cr 
\frac{z'_{1}}{k}-f_{1}\left(\frac{z'}{k}\right)>\varepsilon}
$$
נחבר ונקבל:
$$
\begin{equation}
f_{1}\left(\frac{z}{k}\right)-f_{1}\left(\frac{z^{\prime}}{k}\right)+\frac{z_{1}^{\prime}}{k}-\frac{z_{1}}{k}>2\varepsilon
\end{equation}
$$
מבחירת ה-$k$ ו-$\delta$ נקבל $\frac{z_{1}^{\prime}}{k}-\frac{z_{1}}{k}<\delta<\varepsilon$ ולכן נקבל
$$
-\left( \frac{z'_{1}}{k} -\frac{z_{1}}{k}\right)>-\varepsilon
$$
דהיינו:
$$
 \frac{z_{1}}{k} -\frac{z'_{1}}{k}>-\varepsilon
$$
נחבר את שני האי שיוויונות ונקבל:
$$
\begin{equation}
f_{1}\left(\frac{z}{k}\right)-f_{1}\left(\frac{z^{\prime}}{k}\right)+\frac{z_{1}^{\prime}}{k}-\frac{z_{1}}{k} +\frac{z_{1}}{k} -\frac{z'_{1}}{k} >2\varepsilon -\varepsilon
\end{equation}
$$
כלומר:
$$
\begin{equation}
f_{1}\left(\frac{z}{k}\right)-f_{1}\left(\frac{z^{\prime}}{k}\right) >\varepsilon
\end{equation}
$$
אי שיוויון זה מראה ש $z$ ו-$z'$ אינם צמודים; שהרי אם נניח בשלילה שהם צמודים נקבל מהגדרת הצמידות:
$$
\left|\frac{z^{\prime}}{k}-\frac{z}{k}\right|=\frac{1}{k}\left|z'-z\right|=\frac{1}{k}\cdot1<\delta
$$
כלומר
$$
\left|\frac{z^{\prime}}{k}-\frac{z}{k}\right|<\delta\Rightarrow\left|f\left(\frac{z^{\prime}}{k}\right)-f\left(\frac{z}{k}\right)\right|<\varepsilon
$$
(מהגדרת הרציפות במ"ש)
ולכן בפרט (זכרו שהנורמה פה מוגדרת בתור $\left|x\right|=\underset{1\leq i\leq n}{\max}|x_{i}|$)
$$
f_{1}\left( \frac{z'}{k} \right)-f_{1}\left( \frac{z}{k} \right)<\varepsilon
$$
בסתירה לאי שיווין הקודם.
בצורה אנלוגית על $V^+,V^-$ נקבל שאם $z\in V^+$ ו- $z'\in V^-$ אז $z,z'$ אינם צמודים.
לבסוף, נגדיר $H=H^+\cup H^-$ ו- $V=V^+\cup V^-$, יהי $Q$ קבוצה מחוברת המוכלת ב-$H$.
מהנ"ל נקבל ש $Q$ מוכלת לגמרי ב $H^+$ או מוכלת לגמרי ב-$H^-$ (שהרי אין שני צמתים אחת ב $H^+$ ואחת ב $H^-$ שצמודים אחד לשני).
נשים לב ש-$H^+$ לא פוגש את $E$ שהרי אם נניח בשלילה שהם נפגשים כלומר קיים $z\in H^+$ כך ש $z=(k,z_{2})$ אבל אז $\frac{z_{1}}{k}=\frac{k}{k}=1$ אבל $H^+$ מכילה רק נקודות הזזות לפחות $\varepsilon$ ימינה ו $\frac{z}{k}$ אינה יכולה לזוז יותר ימינה שהרי היא כבר הכי ימינה שאפשר בריבוע היחידה.
באותה צורה $H^-$ לא פוגשת את $W$ ולכן $Q$ לא יכול לחבר את $E,W$ באותה צורה נקבל ש $Q$ קבוצה מחוברת המוכלת ב $V$ אינה יכולה לחבר את $N$ ו- $S$ ולכן ממשפט ההקס נקבל ש $H\cup V$ לא מכסה את $B_{k}$ ובזאת סיימנו!
### 🐳לפני שמתחילים את הסוף
עברנו את החלק העיקרי של הפוסט, החלק מוכיח את הקשר ההפוך (בראואר גורר את הקס) ולמרות שהוא נחמד ויש קוראים שיאהבו אותו (לכן בחרתי להשאיר את החלק זה) הוא מניח טיפה יותר ידע והבנה אינטואיטיבית לפחות של סימפלקסים ולא הוכחתי את כל הטענות שבחלק הזה.
ההוכחה הבאה מבצעת שימוש בעובדה שלוח הקס $B_{k}$ מהווה טריאנגולציה של הריבוע בגודל $k\times k$ (תסומן ב-$I^2_{k}$) ב-$\mathbb{R}^2$.
בנוסף נעשה שימוש בעובדה היחסית קלה להוכחה שכל נקודה ב $I^2$ ניתנת להצגה יחידה בתור צירוף קמור של לכל היותר שלוש נקודות, אשר שייכות לאותו המשולש.
זאת ועוד, נשתמש בעובדה שכל העתקה רציפה $f:B_{k}\rightarrow \mathbb{R}^2$ ניתנת להרחבה _piecewise linear_ כלומר לפונקציה מהצורה
$$
\hat{f} =\lambda_{1}f(z^1)+\lambda_{2}f(z^2)+\lambda_{3}f(z^3)
$$
כאשר $x=\lambda_{1}z^1+\lambda_{2}z^2+\lambda_{3}z^3$ ו- $\lambda_{i}$ מספרים לא שליליים שסכומם הוא $1$ ו- $z^i$ נקודות בטריאנגולציה.
### בראואר גורר הקס

הוכחה. תחילה יהי $H,V$ חלוקה של $B_{k}$ כאת נגדיר ארבע קבוצות בצורה הבאה:
- תהי $\hat{W}$ קבוצת כל הצמתים המחוברות ל-$W$ בעזרת מסלול המוכל ב- $H$
- תהי $\hat{E}=H-\hat{W}$
- בצורה דומה תהי $\hat{S}$ קבוצת כל הצמתים המחוברות ל-$S$ בעזרת מסלול המוכל ב-$V$
- נגדיר $\hat{N}=V-\hat{S}$
נשים לב מההגדרה ש $\hat{W}$ ו- $\hat{E}$ זרים (וגם $\hat{N},\hat{S}$ זרים זה לזה)
נניח בשלילה שלא מתקיים משפט ההקס כלומר נניח שלא קיים מסלול המוכל ב-$H$ המחבר את $E$ ו-$W$ וגם אין מסלול המוכל ב-$V$ המחבר את $N$ ו-$S$.
נסמן $e^1,e^2$ בתור וקטורי היחידה ב $\mathbb{R}^2$ ונגדיר $f:B_{k}\rightarrow B_{k}$ בתור:
$$
f\left(z\right)=\begin{cases}
z+e^{1} & z\in\hat{W}\\
z-e^{1} & z\in\hat{E}\\
z+e^{2} & z\in\hat{S}\\
z-e^{2} & z\in\hat{N}
\end{cases}
$$
הקורא יוודא שפונקציה זו מוגדרת היטב לכל $z$ (דבר זה לא קשה, לדוגמה  אם $z\in \hat{W}$ אז $z$ אינו מחובר ל $\hat{E}$ ואז אפשר להזיזו ימינה ב $e^1$ והוא עדיין יהיה בתוך $B_{k}$)
כאת נרחיב את $f$ בצורה התוארה בחלק הקודם לכל $I_{k}^2$ ונקבל סתירה למשפט נקודת השבת של בראואר מהסיבה שאין לפונקציה זו נקודת שבת.
### למה 1
יהי $z^1,z^2,z^3$ צמתים במשלוש כלשהו $\Delta$ ב-$\mathbb{R}^2$ ותהי $\hat{\rho}$ ההרחבה ה-_piecewise linear_ שתוארה מלעיל של $\rho$ המוגדרת על ידי $\rho(z^i)=z^i+v^i$ כאשר $v^1+v^2+v^3$ ווקטורים כלשהם.
אז ל $\hat{\rho}$ יש נקודת שבת אם ורק אם $0$ נמצא בקמור של $v^1,v^2,v^3$
הוכחה. יהי $x=\lambda_{1}z^1+\lambda_{2}z^2+\lambda_{3}z^3$ אז נקבל 
$$
\hat{\rho }(x)=\lambda_{1}(v^1+z^1)+\lambda_{2}(v^2+z^2)+\lambda_{3}(v^3+z^3)
$$ 
נסיק ש $\hat{\rho}(x)=x$ אם ורק אם $\lambda_{1}v^1+\lambda_{2}v^2+\lambda_{3}v^3=0$ וסיימנו את הוכחת הלמה.

לסיום ההוכחה נשים לב שהמפתח הוא העובדה שאין צמתים המחברים בין $\hat{W},\hat{E}$ ואין המחברים בין $\hat{S},\hat{N}$.
נבצע שימוש בלמה 1 על $f$ כלומר נסתכל על שלושה צמתים של משולש הצמודים בזוגות, אז לעולם לא יקרה שצומת אחד יוזז ב $e^i$  והאחר ב $-e^{i}$ (שהרי אין צמתים המקיימים את זה הצמודים זה לזה מהגדרת $f$), ולכן שלושת הצמתים מוזזים בווקטורים הנמצאים באותו רביע של המישור. ולכן, $0$ לא נמצא בקמור שלהם, מכאן ומלמה $1$, אין ל $\hat{f}$ נקודת שבת בסתירה למשפט נקודת השבת של בראואר, סתירה!!!
ובזאת סיימנו את ההוכחה בדרך השלילה.
#### מקורות שהשתמשתי בהם לכתיבת הפוסט:
המקורות: [Michael Cao](https://sites.math.washington.edu/~morrow/336_20/papers17/michael.pdf), [David Gale](https://www.cs.cmu.edu/afs/cs/academic/class/15859-f01/www/notes/brouwer-hex.pdf), [Matthew Calvin](https://vigoroushandwaving.wordpress.com/2013/09/30/the-joy-of-hex-and-brouwers-fixed-point-theorem/)